name: llm-lab
channels:
  - pytorch
  - conda-forge
  - defaults

dependencies:
  - python=3.11
  - pip

  # ============================================================================
  # Core Scientific Computing (shared across all projects)
  # ============================================================================
  - numpy>=1.24
  - pandas>=2.0
  - scipy>=1.11
  - matplotlib>=3.8
  - seaborn>=0.13
  
  # ============================================================================
  # PyTorch Ecosystem (llm-lab, pytorch-lab, biographlab)
  # ============================================================================
  - pytorch>=2.1
  - torchvision>=0.16
  - sympy=1.13.1  # Required by PyTorch
  
  # ============================================================================
  # Graph Neural Networks (biographlab)
  # ============================================================================
  # torch-geometric and dependencies installed via pip for better compatibility
  
  # ============================================================================
  # Conda-only packages (better installed via conda)
  # ============================================================================
  - networkx>=3.1
  - scikit-learn>=1.3
  - tqdm>=4.66
  - plotly>=5.20
  
  # ============================================================================
  # Jupyter/Notebook Support (all projects)
  # ============================================================================
  - jupyter>=1.0
  - ipykernel>=6.25
  - ipywidgets>=8.0
  
  # ============================================================================
  # Development Tools (all projects)
  # ============================================================================
  - black>=23.11
  - isort>=5.12
  - flake8>=6.0
  - mypy>=1.8
  - pytest>=7.4
  - pytest-cov>=4.1
  - ruff>=0.2
  - pre-commit>=3.5
  
  # ============================================================================
  # Pip Dependencies
  # ============================================================================
  - pip:
      # ========================================================================
      # LLM & Transformers (llm-lab)
      # ========================================================================
      - transformers>=4.35
      - datasets>=2.15
      - accelerate>=0.20
      - peft>=0.10.0          # Parameter-Efficient Fine-Tuning
      - trl>=0.8.0            # Transformer Reinforcement Learning (SFTTrainer)
      - bitsandbytes>=0.42.0  # QLoRA quantization
      
      # ========================================================================
      # Configuration Management (all projects)
      # ========================================================================
      - hydra-core>=1.3
      - omegaconf>=2.3
      - pydantic>=2.6
      
      # ========================================================================
      # CLI & UI (llm-lab, pytorch-lab, probability-lab)
      # ========================================================================
      - typer>=0.12.3
      - rich>=13.7
      
      # ========================================================================
      # Experiment Tracking (llm-lab)
      # ========================================================================
      - wandb>=0.16
      
      # ========================================================================
      # Graph Neural Networks (biographlab)
      # ========================================================================
      - torch-geometric>=2.4.0
      # Note: torch-scatter, torch-sparse, torch-cluster installed automatically
      # by torch-geometric based on your PyTorch version
      
      # ========================================================================
      # Probability & Statistics (probability-lab)
      # ========================================================================
      - polars>=1.5.0
      - lifelines>=0.28
      
      # ========================================================================
      # Document Conversion (llm-lab) - Optional
      # ========================================================================
      # pypandoc>=1.13  # Requires pandoc installed separately
      
      # ========================================================================
      # Type Stubs
      # ========================================================================
      - types-PyYAML>=6.0
      
      # ========================================================================
      # Install all projects in editable mode
      # ========================================================================
      - -e /Users/pleiadian53/work/llm-lab
      - -e /Users/pleiadian53/work/pytorch-lab
      - -e /Users/pleiadian53/work/probability-lab
      - -e /Users/pleiadian53/work/biographlab
